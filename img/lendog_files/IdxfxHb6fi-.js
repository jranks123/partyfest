;/*FB_PKG_DELIM*/

__d("IGDBCAction",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({CLICK:"click",IMPRESSION:"impression",SWIPE:"swipe",TAP:"tap",TOGGLE:"toggle",VIEW:"view"});c=a;f["default"]=c}),66);
__d("IGDBCSource",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({ACCEPT_INVITE_BUTTON:"accept_invite_button",ACCEPT_USER_NUX_BUTTON:"accept_user_nux_button",ACTION_COMPLETION_NOTIFICATION:"action_completion_notification",ACTIONS_REMINDER_BANNER:"actions_reminder_banner",ACTIVITY_FEED_ITEM:"activity_feed_item",ADD_COLLABORATOR:"add_collaborator",ADD_COLLABORATOR_BUTTON:"add_collaborator_button",ADD_COLLABORATOR_PROMO_BANNER:"add_collaborator_promo_banner",ADD_LABEL_TOGGLE:"add_label_toggle",ADD_MODERATOR:"add_moderator",ADD_MODERATOR_BUTTON:"add_moderator_button",ADD_MODERATOR_PROMO_BANNER:"add_moderator_promo_banner",ADD_RESPONSE_BUTTON:"add_response_button",ADD_RESPONSE_BUTTON_GRID_VIEW:"add_response_button_grid_view",ADD_RESPONSE_XMA_CTA:"add_response_xma_cta",ADD_TO_STORY_BUTTON:"add_to_story_button",AMA_QUESTIONS_BUTTON:"ama_questions_button",BACK_BUTTON:"back_button",BEST_PRACTICES_BUTTON:"best_practices_button",BLOCK_USER_BUTTON:"block_user_button",BROADCAST_CHALLENGE_STICKER:"broadcast_challenge_sticker",BROADCAST_CHAT_BUTTON:"broadcast_chat_button",BROADCAST_CHAT_INVITE_LINK:"broadcast_chat_invite_link",BROADCAST_CHAT_LIVE_NOTIFICATION:"broadcast_chat_live_notification",BROADCAST_CHAT_NOTIFICATION:"broadcast_chat_notification",BROADCAST_CHATS_NOTIFICATIONS:"broadcast_chats_notifications",BROADCAST_JCS_JOIN_CHAT_BUTTON:"broadcast_jcs_join_chat_button",BROADCAST_JOIN_CHAT_STICKER:"broadcast_join_chat_sticker",BROADCAST_THREAD_ITEM:"broadcast_thread_item",BULK_DELETE_WITH_BROADCAST_CHAT:"bulk_delete_with_broadcast_chat",BULK_DELETE_WITH_BROADCAST_CHAT_DIALOG:"bulk_delete_with_broadcast_chat_dialog",CAMERA_ICON:"camera_icon",CANCEL_BUTTON:"cancel_button",CANCEL_END_LIVE_BUTTON:"cancel_end_live_button",CANCEL_GROUP_PHOTO_ITEM:"cancel_group_photo_item",CAROUSEL_NUX:"carousel_nux",CHALLENGE_3P_SHARED_LINK:"challenge_3p_shared_link",CHALLENGE_BUTTON:"challenge_button",CHALLENGE_DIFFERENT_THREAD_XMA:"challenge_different_thread_xma",CHALLENGE_NOTIFICATION:"challenge_notification",CHALLENGE_PILL:"challenge_pill",CHALLENGE_SHARE_SHEET:"challenge_share_sheet",CHALLENGE_START:"challenge_start",CHALLENGE_STORY_STICKER:"challenge_story_sticker",CHALLENGE_SUBMISSION_ITEM:"challenge_submission_item",CHANGE_GOAL_BUTTON:"change_goal_button",CHANGE_NAME_ITEM:"change_name_item",CHANGE_NAME_PHOTO_TEXT:"change_name_photo_text",CHANGE_PHOTO:"change_photo",CHANGE_PHOTO_ITEM:"change_photo_item",CHANGE_THEME_ITEM:"change_theme_item",CHANNEL_CONTROLS_ITEM:"channel_controls_item",CHANNEL_DURATION_SHEET:"channel_duration_sheet",CHANNEL_EYEBROW_LINK:"channel_eybrow_link",CHANNEL_INSIGHTS_BUTTON:"channel_insights_button",CHANNEL_INVITE_ITEM:"channel_invite_item",CHANNEL_ITEM:"channel_item",CHANNEL_LINK_BOTTOM_SHEET:"channel_link_bottom_sheet",CHANNEL_NAME:"channel_name",CHANNEL_NOTIFICATION_ITEM:"channel_notification_item",CHANNEL_OPTION:"channel_options",CHANNEL_PERFORMANCE:"channel_performance",CHANNEL_PERFORMANCE_BUTTON:"channel_performance_button",CHANNEL_TAB:"channel_tab",CHANNEL_TRANSLATION:"channel_translation",CHANNEL_TRANSLATION_EDUCATION:"channel_translation_education",CHANNEL_TRANSLATION_TOGGLE:"channel_translation_toggle",CHAT_LINK_COPY_TEXT:"chat_link_copy_text",CHAT_PHOTO_PICKER:"chat_photo_picker",CHOOSE_FROM_LIBRARY_ITEM:"choose_from_library_item",CHOOSE_WINNERS_BUTTON:"choose_winners_button",COLLABORATOR_INVITE_LIMIT_DIALOG:"collaborator_invite_limit_dialog",COMMENT_LIKE_BUTTON:"comment_like_button",COMMENT_OPTIONS_LIKE_OR_UNLIKE:"comment_options_like_or_unlike",COMMENT_OPTIONS_REMOVE:"comment_options_remove",COMMENT_OPTIONS_REPLY:"comment_options_reply",COMMENT_OPTIONS_REPORT:"comment_options_report",COMMENT_ROW:"comment_row",COMMENTS_COMPOSER:"comments_composer",COMMENTS_MUSTACHE_TEXT:"comments_mustache_text",COMMENTS_PILL:"comments_pill",COMMENTS_SHEET:"comments_sheet",COMMENTS_SWIPE_NUDGE:"comments_swipe_nudge",COMMENTS_SWIPE_SHORTCUT:"comments_swipe_shortcut",COMMENTS_TOGGLE:"comments_toggle",COMMENTS_UPSELL_BANNER:"comments_upsell_banner",COMPOSER_SEND_BUTTON:"composer_send_button",CREATE_BROADCAST_CHAT:"create_broadcast_chat",CREATE_BROADCAST_CHAT_BUTTON:"create_broadcast_chat_button",CREATE_BROADCAST_CHAT_ITEM:"create_broadcast_chat_item",CREATE_BUTTON:"create_button",CREATE_CHANNEL_TEXT:"create_channel_text",CREATE_CHANNEL_VIEW:"create_channel_view",CREATE_POLL_BUTTON:"create_poll_button",CREATE_SPOTLIGHT_BUTTON:"create_spotlight_button",CUSTOM_THEME_ITEM:"custom_theme_item",CUSTOMIZE_BUTTON:"customize_button",DAILY_PROMPT_BUTTON:"daily_prompt_button",DAILY_PROMPT_CREATION_PILL:"daily_prompt_creation_pill",DAILY_PROMPT_DIFFERENT_THREAD_XMA:"daily_prompt_different_thread_xma",DAILY_PROMPT_THREAD_BOTTOM_BANNER:"daily_prompt_thread_bottom_banner",DAILY_PROMPT_THREAD_XMA:"daily_prompt_thread_xma",DECLINE_BUTTON:"decline_button",DECLINE_COLLABORATOR:"decline_collaborator",DECLINE_INVITE_BUTTON:"decline_invite_button",DECLINE_MODERATOR:"decline_moderator",DELETE_BROADCAST_CHAT:"delete_broadcast_chat",DELETE_BUTTON:"delete_button",DELETE_CHALLENGE_BUTTON:"delete_challenge_button",DELETE_CHAT_DIALOG:"delete_chat_dialog",DELETE_DAILY_PROMPT_BUTTON:"delete_daily_prompt_button",DICE_ROLL_BUTTON:"dice_roll_button",DIRECTORY_BUTTON:"directory_button",DISCARD_VIDEO_BUTTON:"discard_video_button",DONE_AFTER_EDIT_BUTTON:"done_after_edit_button",DONE_BUTTON:"done_button",DOWNLOAD_IG_BUTTON:"download_ig_button",DURATION_OPTIONS_BUTTON:"duration_options_button",EMOJI_MODERATION_NUX:"emoji_moderation_nux",END_CHAT:"end_chat",END_CHAT_CTA_BUTTON:"end_chat_cta_button",END_CHAT_DIALOG:"end_chat_dialog",END_LIVE_BUTTON:"end_live_button",END_LIVE_CHANNEL_BUTTON:"end_live_channel_button",END_LIVE_NOW_BUTTON:"end_live_now_button",ENTER_TO_WIN_BUTTON:"enter_to_win_button",EXIT_USER_NUX_BUTTON:"exit_user_nux_button",FEED_POST_NUX:"feed_post_nux",FEED_POST_VIEW:"feed_post_view",FIRST_MESSAGE_BANNER:"first_message_banner",FOLLOW_TO_JOIN_CHAT_SHEET:"follow_to_join_chat_sheet",FOR_YOU_TAB:"for_you_tab",GENERATE_QR_CODE_TEXT:"generate_qr_code_text",GET_STARTED_BUTTON:"get_started_button",GO_LIVE_TOOLTIP:"go_live_tooltip",GROUP_NAME_TEXTBOX:"group_name_textbox",HEADER_CARD:"header_card",INBOX_MULTISELECT_THREAD_OPTIONS:"inbox_multiselect_thread_options",INVITE_BUTTON:"invite_button",INVITE_COLLABORATOR_CTA:"invite_collaborator_cta",INVITE_LINK_JOIN_CHAT_BUTTON:"invite_link_join_chat_button",INVITE_LINK_SETTING:"invite_link_setting",INVITE_LINK_TOGGLE:"invite_link_toggle",JOIN_BROADCAST_CHAT:"join_broadcast_chat",JOIN_BROADCAST_CHAT_BUTTON:"join_broadcast_chat_button",JOIN_CHANNEL_BANNER:"join_channel_banner",JOIN_CHANNEL_BUTTON:"join_channel_button",JOIN_CHANNEL_TOOLTIP:"join_channel_tooltip",JOIN_CHAT_BUTTON:"join_chat_button",JOIN_COLLABORATOR:"join_collaborator",JOIN_MODERATOR:"join_moderator",JOIN_SSC_XMA:"join_ssc_xma",JOIN_WAITLIST_BUTTON:"join_waitlist_button",JOINED_CHANNEL_BUTTON:"joined_channel_button",LEARN_HOW_BANNER:"learn_how_banner",LEARN_MORE_BUTTON:"learn_more_button",LEARN_MORE_SHEET:"learn_more_sheet",LIMIT_TO_SUBSCRIBERS_TOGGLE:"limit_to_subscribers_toggle",LIVE_AUDIENCE_OPTIONS:"live_audience_options",LIVE_MESSAGE:"live_message",LIVE_STORY_BUTTON:"live_story_button",MANAGE_HIDDEN_REACTIONS_SECTION:"manage_hidden_reactions_section",MEDIA_VIEWER_HEADER:"media_viewer_header",MEMBER_CTA_BUTTON:"member_cta_button",MEMBER_PARTICIPATION_HUB:"member_participation_hub",MEMBER_PARTICIPATION_HUB_CTA_BUTTON:"member_participation_hub_cta_button",MESSAGE_METADATA:"message_metadata",MESSAGE_OPTIONS:"message_options",MESSAGE_OPTIONS_DIALOG:"message_options_dialog",MESSAGE_OPTIONS_DOT_MENU:"message_options_dot_menu",MESSAGE_OPTIONS_SHARE:"message_options_share",MESSAGE_QUICK_ACTION:"message_quick_action",MESSAGE_REACTIONS:"message_reactions",MESSAGE_SHARE_SHEET:"message_share_sheet",MESSAGE_SNIPPET:"message_snippet",MESSAGE_WINNER_BUTTON:"message_winner_button",MIMICRY_UPSELL_BANNER:"mimicry_upsell_banner",MODERATOR_INVITE_LIMIT_DIALOG:"moderator_invite_limit_dialog",MUTE_BUTTON:"mute_button",MUTE_CTA_BUTTON:"mute_cta_button",MUTE_MENTIONS_REPLIES_TOGGLE:"mute_mentions_replies_toggle",MUTE_MESSAGE_OPTION_TEXT:"mute_message_option_text",MUTE_MESSAGE_TOGGLE:"mute_message_toggle",MUTE_REACTIONS_TOGGLE:"mute_reactions_toggle",NEXT_STEPS_ITEM:"next_steps_item",NOT_NOW_BUTTON:"not_now_button",OMNIPICKER_VIEW:"omnipicker_view",OPEN_BROADCAST_CHAT:"open_broadcast_chat",OPEN_CHAT_SHEET:"open_chat_sheet",PEOPLE_SECTION:"people_section",PHOTO_SELECTOR:"photo_selector",PIN_CHANNEL_TOGGLE:"pin_channel_toggle",PIN_TO_PROFILE_TOGGLE:"pin_to_profile_toggle",PLUS_BUTTON:"plus_button",POLL_RESPONSES:"poll_responses",POST_STORY_BROADCAST_JCS:"post_story_broadcast_jcs",PRESET_THEME_ITEM:"preset_theme_item",PRIZE_OPTIONS_BUTTON:"prize_options_button",PROFILE_VIEW:"profile_view",PROMPT:"prompt",QP_VIEW:"qp_view",REACTION_BAR:"reaction_bar",REACTION_LIST:"reaction_list",RECOMMENDED_ACTION:"recommended_action",RECOMMENDED_ACTIONS_SHEET:"recommended_actions_sheet",REENGAGEMENT_QP_BUTTON:"reengagement_qp_button",REMOVE_BUTTON:"remove_button",REMOVE_CHAT_DIALOG:"remove_chat_dialog",REMOVE_COLLABORATOR:"remove_collaborator",REMOVE_COLLABORATOR_DIALOG:"remove_collaborator_dialog",REMOVE_GROUP_PHOTO_ITEM:"remove_group_photo_item",REMOVE_MODERATOR:"remove_moderator",REMOVE_MODERATOR_DIALOG:"remove_moderator_dialog",REMOVE_VIDEO_BUTTON:"remove_video_button",REPLY_BUTTON:"reply_button",REPLY_SWIPE_SHORTCUT:"reply_swipe_shortcut",REPORT_BUTTON:"report_button",REPORT_COMMENT_BUTTON:"report_comment_button",RESET_TEXT:"reset_text",RESIGN_COLLABORATOR:"resign_collaborator",RESIGN_COLLABORATOR_DIALOG:"resign_collaborator_dialog",RESIGN_CTA_BUTTON:"resign_cta_button",RESIGN_MODERATOR:"resign_moderator",RESIGN_MODERATOR_DIALOG:"resign_moderator_dialog",RESPONSE:"response",SAVE_QR_CODE_BUTTON:"save_qr_code_button",SAVE_TO_CHANNEL_BUTTON:"save_to_channel_button",SEARCH_RESULT_CHANNEL_ITEM:"search_result_channel_item",SEE_ALL_ENTRIES_BUTTON:"see_all_entries_button",SEE_BROADCAST_CHAT_BUTTON:"see_broadcast_chat_button",SEE_CHANNEL_BUTTON:"see_channel_button",SEE_CHANNEL_TOOLTIP:"see_channel_tooltip",SEE_EXAMPLE_BUTTON:"see_example_button",SEE_MEMBER_BANNER:"see_member_banner",SEE_RESPONSES_BUTTON:"see_responses_button",SEE_SHARING_OPTIONS_BUTTON:"see_sharing_options_button",SEE_WINNERS_BUTTON:"see_winners_button",SELECT_BUTTON:"select_button",SEND_BUTTON:"send_button",SEND_INVITE_LINK_SHEET:"send_invite_link_sheet",SEND_LINK_CTA_BUTTON:"send_link_cta_button",SEND_LINK_INSTAGRAM_TEXT:"send_link_instagram_text",SEND_MESSAGE_EDUCATION_BUTTON:"send_message_education_button",SET_GOAL_BUTTON:"set_goal_button",SET_PERFORMANCE_GOAL_SHEET:"set_performance_goal_sheet",SHARE_AIRPLANE_BUTTON:"share_airplane_button",SHARE_BUTTON:"share_button",SHARE_LAST_MESSAGE_BUTTON:"share_last_message_button",SHARE_QR_CODE_BUTTON:"share_qr_code_button",SHARE_TO_STORY_CTA_BUTTON:"share_to_story_cta_button",SHARE_TO_STORY_LINK_BUTTON:"share_to_story_link_button",SHARE_TO_STORY_MESSAGE:"share_to_story_message",SHARE_TO_STORY_MESSAGE_BUTTON:"share_to_story_message_button",SHARE_VIA_UNIVERSAL_SHARESHEET:"share_via_universal_sharesheet",SHARE_WINNERS_BUTTON:"share_winners_button",SHARED_MEDIA:"shared_media",SHOW_ON_PROFILE_TOGGLE:"show_on_profile_toggle",SILENT_TOGGLE:"silent_toggle",START_BROADCAST_CHAT_BUTTON:"start_broadcast_chat_button",START_BUTTON:"start_button",START_LIVE_BUTTON:"start_live_button",SUBMIT_BUTTON:"submit_button",SUBSCRIBE_TO_JOIN_CHAT_SHEET:"subscribe_to_join_chat_sheet",SYSTEM_CAPTURE:"system_capture",TAG_CHANNELS_ITEM:"tag_channels_item",TAKE_PHOTO_ITEM:"take_photo_item",THEME_SELECTOR:"theme_selector",THREAD_CHALLENGE_SHARED_XMA:"thread_challenge_shared_xma",THREAD_CHANNEL_CONTROLS:"thread_channel_controls",THREAD_CHANNEL_SHARED:"thread_channel_shared",THREAD_LIST_ITEM:"thread_list_item",THREAD_PREVIEW_OTHER_MEMBERS:"thread_preview_other_members",THREAD_SWIPE_OPTIONS:"thread_swipe_options",THREAD_VIEW:"thread_view",TOOLS_SETUP:"tools_setup",TRANSLATION_FOOTER_NUX:"translation_footer_nux",TURN_ON_BUTTON:"turn_on_button",UNDO_BUTTON:"undo_button",UNIQUE_CONTENT_EDUCATION_BUTTON:"unique_content_education_button",UNSEND_MESSAGE:"unsend_message",UPSELL_BUTTON:"upsell_button",UPVOTE_BUTTON:"upvote_button",USER_DOT_MENU:"user_dot_menu",USER_PROFILE_HEADER:"user_profile_header",VIEW_CHANNEL_BUTTON:"view_channel_button",VIEW_INSIGHTS_BUTTON:"view_insights_button",VIEW_PROFILE_BUTTON:"view_profile_button",VIEW_REACTIONS_BUTTON:"view_reactions_button",VIEW_SEEN_ACTIVE_COUNT:"view_seen_active_count",VOTE_BUTTON:"vote_button",WATCH_NOW_BUTTON:"watch_now_button",WELCOME_VIDEO_CREATION:"welcome_video_creation",WELCOME_VIDEO_PIP:"welcome_video_pip",WELCOME_VIDEO_REPLACE_BUTTON:"welcome_video_replace_button",WELCOME_VIDEO_SETTINGS:"welcome_video_settings",WELCOME_VIDEO_THUMBNAIL:"welcome_video_thumbnail",XPOSTING_CHANNEL_CONTROLS_TOGGLE:"xposting_channel_controls_toggle",XPOSTING_COMPOSER_OVERRIDE_TOGGLE:"xposting_composer_override_toggle"});c=a;f["default"]=c}),66);
__d("useIGDBroadcastChannelUnsendMessageLogger",["MWCMThreadTypes.react","ReQL","promiseDone","react","react-compiler-runtime","useIGDBroadcastChannelLogger","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;function a(a,b){var e=d("react-compiler-runtime").c(18),f;e[0]!==a.threadSubtype?(f=a.threadSubtype!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a.threadSubtype),e[0]=a.threadSubtype,e[1]=f):f=e[1];var g=f,i=c("useIGDBroadcastChannelLogger")(a.threadKey),j=(h||(h=c("useReStore")))();e[2]!==i||e[3]!==b.messageId?(f=function(a,d,e){c("promiseDone")(i({action:a,event:d,extra:{mid:b.messageId},parent_surface:"broadcast",source:e,surface:"thread_view"}))},e[2]=i,e[3]=b.messageId,e[4]=f):f=e[4];var k=f;e[5]!==j||e[6]!==g||e[7]!==k||e[8]!==b.messageId||e[9]!==b.timestampMs||e[10]!==a.threadKey?(f=function(){if(g){k("tap","unsend_message_attempt","message_options_dialog");var c=d("ReQL").fromTableAscending(j.tables.messages).getKeyRange(a.threadKey,b.timestampMs,b.messageId).subscribe(function(a,b){b.operation==="put"&&b.value.unsentTimestampMs!=null&&(k("view","unsend_message_successful","unsend_message"),c())})}},e[5]=j,e[6]=g,e[7]=k,e[8]=b.messageId,e[9]=b.timestampMs,e[10]=a.threadKey,e[11]=f):f=e[11];f=f;var l;e[12]!==g||e[13]!==k?(l=function(){g&&k("view","unsend_message_error","unsend_message")},e[12]=g,e[13]=k,e[14]=l):l=e[14];l=l;var m;e[15]!==f||e[16]!==l?(m={onClick:f,onReject:l},e[15]=f,e[16]=l,e[17]=m):m=e[17];return m}g["default"]=a}),98);
__d("useGetPluginType",["LSIntEnum","LSPendingTasksPluginType","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){return b||a?(h||(h=d("LSIntEnum"))).ofNumber(c("LSPendingTasksPluginType").IGD_INSTAMADILLO):void 0}function a(a,b){var c=d("react-compiler-runtime").c(3),e;c[0]!==a||c[1]!==b?(e=i(a,b),c[0]=a,c[1]=b,c[2]=e):e=c[2];return e}g.getIGDPluginType=i;g.useGetPluginTypeForMessage=a}),98);
__d("LSOptimisticUnsendMessage",["LSGetViewerFBID","LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.i64.neq(a[1],void 0)?c.sequence([function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[3]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],void 0)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[3]=d[5])})},function(a){return d[0]=d[3]}]):c.resolve(d[0]=c.i64.cast([0,1]))},function(e){return d[1]=new c.Map(),d[1].set("message_id",a[0]),d[1].set("thread_key",a[1]),d[1].set("sync_group",d[0]),c.i64.neq(a[1],void 0)?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[3]=a[0],a})},function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[4]=!1:(b=a.item,c.sequence([function(a){return c.filter(c.db.table(14).fetch([[[b.threadKey,d[3]]]]),function(a){return c.i64.eq(a.threadKey,b.threadKey)&&c.i64.eq(c.i64.cast([0,0]),b.mailboxType)&&c.i64.eq(a.contactId,d[3])}).next().then(function(e,f){var a=e.done;e=e.value;return a?d[6]=!1:(f=e.item,c.i64.eq(b.threadType,c.i64.cast([0,152]))?(d[9]=f.threadRoles,c.i64.lt(c.i64.cast([0,7]),c.i64.cast([0,0]))||c.i64.gt(c.i64.cast([0,7]),c.i64.cast([0,7]))?d[10]=!1:d[10]=!c.i64.eq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,7]))),d[9]),c.i64.cast([0,0])),d[11]=b.capabilities,d[12]=b.capabilities2,d[13]=b.capabilities3,d[14]=b.capabilities4,d[15]=b.capabilities5,d[17]=c.i64.div(c.i64.cast([0,223]),c.i64.cast([0,64])),d[18]=c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.sub(c.i64.cast([0,223]),c.i64.mul(d[17],c.i64.cast([0,64]))))),c.i64.lt(c.i64.cast([0,223]),c.i64.cast([0,0]))||c.i64.gt(c.i64.cast([0,223]),c.i64.cast([0,267]))?d[16]=!1:(c.i64.eq(d[17],c.i64.cast([0,0]))?d[19]=!c.i64.eq(c.i64.and_(d[18],d[11]),c.i64.cast([0,0])):(c.i64.eq(d[17],c.i64.cast([0,1]))?d[20]=!c.i64.eq(c.i64.and_(d[18],d[12]),c.i64.cast([0,0])):(c.i64.eq(d[17],c.i64.cast([0,2]))?d[21]=!c.i64.eq(c.i64.and_(d[18],d[13]),c.i64.cast([0,0])):(c.i64.eq(d[17],c.i64.cast([0,3]))?d[22]=!c.i64.eq(c.i64.and_(d[18],d[14]),c.i64.cast([0,0])):(c.i64.eq(d[17],c.i64.cast([0,4]))?d[23]=!c.i64.eq(c.i64.and_(d[18],d[15]),c.i64.cast([0,0])):d[23]=!1,d[22]=d[23]),d[21]=d[22]),d[20]=d[21]),d[19]=d[20]),d[16]=d[19]),d[10]===d[16]?0:(function(a){c.logger(a).mustfix(a)}("LS::assert is failed. Thread role and thread capability don't agree for Broadcast Channels message-as-page functionality; aborting"),c["throw"]("LS::assert is failed. Thread role and thread capability don't agree for Broadcast Channels message-as-page functionality; aborting")),d[8]=d[10]):d[8]=!1,d[6]=d[8])})},function(a){return d[4]=d[6]}]))})},function(a){return d[4]?d[1].set("perform_action_as_page",!0):0}]):c.resolve()},function(e){return d[2]=c.toJSON(d[1]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"unsend_message",c.i64.cast([0,33]),d[2],void 0,void 0,a[2]==null?c.i64.cast([0,0]):a[2],c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticUnsendMessageStoredProcedure";a.__tables__=["threads","participants"];e.exports=a}),null);
__d("LSOptimisticUnsendMessageStoredProcedure",["LSOptimisticUnsendMessage","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticUnsendMessage"),e.messageId,e.threadKey,e.pluginType);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MWV2LogMessageClick",["I64","LSMessagingThreadTypeUtil","Promise","ReQL","UserAgentData","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("LsMessageClickFalcoEvent").__setRef("MWV2LogMessageClick");function a(a,e,f,g){var k=e.threadKey;c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(k)).then(function(a){a!=null&&!d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)&&j.onReady(function(a){a.log(function(){var a;return{click:{category:2},click_target:{type:f},extra:JSON.stringify({action:(a=g)!=null?a:void 0,browserName:c("UserAgentData").browserName}),message:{id:e.messageId,sender_id:void 0,sent_time:(i||(i=d("I64"))).to_float(e.timestampMs)},thread:{id:i.to_string(e.threadKey),key:void 0,type:void 0},xma:void 0}})});return(h||(h=b("Promise"))).resolve()}))}g.log=a}),98);
__d("WebUserFlowLoggingDataContextProvider.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;c=b.createContext;var j=b.useMemo,k=b.useRef,l=c({loggingDataRef:{current:{}},setLoggingData:function(){}});function a(a){a=a.children;var b=k({}),c=function(a){b.current=a},d=j(function(){return{loggingDataRef:b,setLoggingData:c}},[]);return i.jsx(l.Provider,{value:d,children:a})}a.displayName=a.name+" [from "+f.id+"]";g.WebUserFlowLoggingDataContext=l;g.WebUserFlowLoggingDataContextProvider=a}),98);
__d("useMWV2GlobalRemoveMessage",["LSFactory","LSOptimisticUnsendMessageStoredProcedure","LSPlatformWaitForTaskCompletion","MWV2LogMessageClick","MessengerWebUXLogger","QPLUserFlow","Random","WebUserFlowLoggingDataContextProvider.react","asyncToGeneratorRuntime","qpl","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useCallback,k=e.useContext;function a(a){var e=(h||(h=c("useReStore")))(),f=k(d("WebUserFlowLoggingDataContextProvider.react").WebUserFlowLoggingDataContext),g=f.loggingDataRef,i=c("MessengerWebUXLogger").useInteractionLogger();return j(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){d("MWV2LogMessageClick").log(e,b,47);var f=c("qpl")._(25308285,"2002"),h=Date.now()+(Math.round(d("Random").random()*1e4)+1e4);c("QPLUserFlow").start(f,{annotations:{string:{isEphemeralMessage:b.ephemeralDurationInSec!=null||b.ephemeralExpirationTs!=null?"true":"false",type:"openUnsendMessage"}},instanceKey:h});var j=void 0;typeof a==="function"?j=(yield a(b)):j=a;return c("LSPlatformWaitForTaskCompletion")(e,function(a){return c("LSOptimisticUnsendMessageStoredProcedure")(c("LSFactory")(a),{messageId:b.messageId,pluginType:j,threadKey:b.threadKey})},"optimisticUnsendMessage").then(function(){i==null?void 0:i(babelHelpers["extends"]({},g.current,{eventName:"message_remove_success",eventType:"backend"})),c("QPLUserFlow").endSuccess(f,{instanceKey:h})})["catch"](function(a){return i==null?void 0:i(babelHelpers["extends"]({},g.current,{eventName:"message_remove_failure",eventType:"backend",extraData:babelHelpers["extends"]({},g.current.extraData,{error:a.toString()})}))})});return function(a){return f.apply(this,arguments)}}(),[e,a,i,g])}g["default"]=a}),98);
__d("useIGDGlobalRemoveMessage",["IGDInstamadilloUtils","asyncToGeneratorRuntime","react-compiler-runtime","useAsyncReStore","useGetPluginType","useMWV2GlobalRemoveMessage"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var e=d("react-compiler-runtime").c(3),f=c("useAsyncReStore")(),g;e[0]!==f||e[1]!==a?(g=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=b.messageId;var c=(yield f);c=(yield c.tables.e2ee_igMessageAuxiliaryInfo.get(b));b=Boolean(c==null?void 0:c.openEb);return d("useGetPluginType").getIGDPluginType(d("IGDInstamadilloUtils").isInstamadilloTransportEnabled(a),b)});return function(a){return c.apply(this,arguments)}}(),e[0]=f,e[1]=a,e[2]=g):g=e[2];return c("useMWV2GlobalRemoveMessage")(g)}g["default"]=a}),98);
__d("IGDMessageUnsendDialog.react",["fbt","IGDSActionDialog.react","IGDSDialogItem.react","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","MWLSThread","MessengerWebUXLogger","WebUXLoggingSurfaceContextProvider","getInstamadilloLoggingExtraData","promiseDone","react","react-compiler-runtime","useIGDBroadcastChannelUnsendMessageLogger","useIGDGlobalRemoveMessage"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useCallback;function k(a){var b=d("react-compiler-runtime").c(26),e=a.message,f=a.onClose;a=a.thread;var g=c("useIGDGlobalRemoveMessage")(a),i=c("MessengerWebUXLogger").useInteractionLogger(),k=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),m;b[0]!==a?(m=c("getInstamadilloLoggingExtraData")(a),b[0]=a,b[1]=m):m=b[1];var n=m;b[2]!==n||b[3]!==k?(m={eventName:"message_unsend_sheet_rendered",extraData:n,flowInstanceId:k},b[2]=n,b[3]=k,b[4]=m):m=b[4];m=c("MessengerWebUXLogger").useImpressionLoggerRef(m);var o=c("useIGDBroadcastChannelUnsendMessageLogger")(a,e);b[5]!==o||b[6]!==n||b[7]!==k||b[8]!==i||b[9]!==e||b[10]!==f||b[11]!==g?(a=function(){i==null?void 0:i({eventName:"message_unsend_confirm",extraData:n,flowInstanceId:k}),o.onClick(),c("promiseDone")(g(e),l,o.onReject),f()},b[5]=o,b[6]=n,b[7]=k,b[8]=i,b[9]=e,b[10]=f,b[11]=g,b[12]=a):a=b[12];a=a;var p;b[13]===Symbol["for"]("react.memo_cache_sentinel")?(p=h._(/*BTDS*/"__JHASH__oSfhQWPikoo__JHASH__"),b[13]=p):p=b[13];var q;b[14]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"__JHASH__HdevtT4EQpN__JHASH__"),b[14]=q):q=b[14];var r;b[15]===Symbol["for"]("react.memo_cache_sentinel")?(r=h._(/*BTDS*/"__JHASH__XpPA5BjJC8Y__JHASH__"),b[15]=r):r=b[15];b[16]!==m||b[17]!==a?(r=j.jsx(d("IGDSDialogItem.react").IGDSDialogItem,{color:"errorOrDestructive",forwardRef:m,onClick:a,children:r}),b[16]=m,b[17]=a,b[18]=r):r=b[18];b[19]===Symbol["for"]("react.memo_cache_sentinel")?(m=h._(/*BTDS*/"__JHASH__KyxxxYIyMcs__JHASH__"),b[19]=m):m=b[19];b[20]!==f?(a=j.jsx(d("IGDSDialogItem.react").IGDSDialogItem,{onClick:f,children:m}),b[20]=f,b[21]=a):a=b[21];b[22]!==f||b[23]!==r||b[24]!==a?(m=j.jsxs(c("IGDSActionDialog.react"),{body:p,forceTop:!0,isVisible:!0,onModalClose:f,title:q,children:[r,a]}),b[22]=f,b[23]=r,b[24]=a,b[25]=m):m=b[25];return m}function l(){}function a(a){var b=d("react-compiler-runtime").c(10),e=a.message,f=a.onClose,g=d("MWLSThread").useThread(e.threadKey),h=c("MessengerWebUXLogger").useInteractionLogger(),i=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),l;b[0]!==i||b[1]!==h||b[2]!==f||b[3]!==g?(a=function(){h==null?void 0:h({eventName:"message_unsend_cancel",extraData:c("getInstamadilloLoggingExtraData")(g),flowInstanceId:i}),f()},l=[h,g,i,f],b[0]=i,b[1]=h,b[2]=f,b[3]=g,b[4]=a,b[5]=l):(a=b[4],l=b[5]);a=d("Int64Hooks").useCallbackInt64(a,l);if(!g)return null;b[6]!==e||b[7]!==a||b[8]!==g?(l=j.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"message_unsend_sheet",children:j.jsx(k,{message:e,onClose:a,thread:g})}),b[6]=e,b[7]=a,b[8]=g,b[9]=l):l=b[9];return l}g["default"]=a}),226);